{"version":3,"names":["width","maxW","Dimensions","get","Tab","createBottomTabNavigator","BottomBarComponent","React","forwardRef","props","ref","SVG","Svg","PATH","Path","type","style","height","circleWidth","bgColor","initialRouteName","tabBar","renderCircle","borderTopLeftRight","strokeWidth","strokeColor","itemLeft","setItemLeft","useState","itemRight","setItemRight","maxWidth","setMaxWidth","isShow","setIsShow","children","orientation","useDeviceOrientation","useImperativeHandle","setVisible","visible","useEffect","w","_renderButtonCenter","focusedTab","navigate","getTab","filter","e","position","name","routeName","selectedTab","selectTab","arrLeft","item","arrRight","d","getPath","getPathUp","renderItem","color","styles","itemTab","MyTabBar","state","navigation","routes","index","container","scale","main","top30","rowLeft","map","undefined","flex1","toString","merge","rowRight"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable no-shadow */\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport React, { useEffect, useImperativeHandle, useState } from 'react';\nimport { Dimensions, Text, View, TouchableOpacity } from 'react-native';\nimport { scale } from 'react-native-size-scaling';\nimport Svg, { Path } from 'react-native-svg';\nimport { useDeviceOrientation } from '../../../useDeviceOrientation';\nimport type { NavigatorBottomBarProps } from './model';\nimport { getPath, getPathUp } from './path';\nimport { styles } from './styles';\nconst { width: maxW } = Dimensions.get('window');\n\nconst Tab = createBottomTabNavigator();\n\nconst BottomBarComponent = React.forwardRef<any, NavigatorBottomBarProps>(\n  (props, ref) => {\n    const SVG: any = Svg;\n    const PATH: any = Path;\n    const {\n      type = 'DOWN',\n      style,\n      width = null,\n      height = 65,\n      circleWidth = 50,\n      bgColor = 'gray',\n      initialRouteName,\n      tabBar,\n      renderCircle,\n      borderTopLeftRight = false,\n      strokeWidth = 0,\n      strokeColor = '#DDDDDD',\n    } = props;\n\n    const [itemLeft, setItemLeft] = useState<any[]>([]);\n    const [itemRight, setItemRight] = useState<any[]>([]);\n    const [maxWidth, setMaxWidth] = useState<number>(width || maxW);\n    const [isShow, setIsShow] = useState(true);\n    const children = props?.children as any[];\n    const orientation = useDeviceOrientation();\n\n    useImperativeHandle(ref, () => {\n      return { setVisible };\n    });\n\n    const setVisible = (visible: boolean) => {\n      setIsShow(visible);\n    };\n\n    useEffect(() => {\n      const { width: w } = Dimensions.get('window');\n      if (!width) {\n        setMaxWidth(w);\n      }\n    }, [orientation, width]);\n\n    const _renderButtonCenter = (focusedTab: string, navigate: any) => {\n      const getTab = children.filter(\n        (e: any) => e?.props?.position === 'CENTER'\n      )[0]?.props?.name;\n\n      return renderCircle({\n        routeName: getTab,\n        selectedTab: focusedTab,\n        navigate: (selectTab: string) => {\n          if (selectTab) {\n            navigate(selectTab);\n          }\n        },\n      });\n    };\n\n    useEffect(() => {\n      const arrLeft: any = children.filter(\n        (item) => item?.props?.position === 'LEFT'\n      );\n      const arrRight: any = children.filter(\n        (item) => item?.props?.position === 'RIGHT'\n      );\n\n      setItemLeft(arrLeft);\n      setItemRight(arrRight);\n    }, [children, initialRouteName]);\n\n    const d =\n      type === 'DOWN'\n        ? getPath(\n            maxWidth,\n            height,\n            circleWidth >= 50 ? circleWidth : 50,\n            borderTopLeftRight\n          )\n        : getPathUp(\n            maxWidth,\n            height + 30,\n            circleWidth >= 50 ? circleWidth : 50,\n            borderTopLeftRight\n          );\n\n    const renderItem = ({ color, routeName, navigate }: any) => {\n      return (\n        <TouchableOpacity\n          key={routeName}\n          style={styles.itemTab}\n          onPress={() => navigate(routeName)}\n        >\n          <Text style={{ color: color }}>{routeName}</Text>\n        </TouchableOpacity>\n      );\n    };\n\n    const MyTabBar = (props: any) => {\n      const { state, navigation } = props;\n      const focusedTab = state?.routes[state.index].name;\n\n      if (!isShow) {\n        return null;\n      }\n\n      return (\n        <View style={[styles.container, style]}>\n          <SVG\n            width={maxWidth}\n            height={scale(height) + (type === 'DOWN' ? 0 : scale(30))}\n          >\n            <PATH\n              fill={bgColor}\n              stroke={strokeColor}\n              strokeWidth={strokeWidth}\n              {...{ d }}\n            />\n          </SVG>\n          <View\n            style={[\n              styles.main,\n              { width: maxWidth },\n              type === 'UP' && styles.top30,\n            ]}\n          >\n            <View style={[styles.rowLeft, { height: scale(height) }]}>\n              {itemLeft.map((item: any, index) => {\n                const routeName: string = item?.props?.name;\n\n                if (tabBar === undefined) {\n                  return renderItem({\n                    routeName,\n                    color: focusedTab === routeName ? 'blue' : 'gray',\n                    navigate: navigation.navigate,\n                  });\n                }\n\n                return (\n                  <View style={styles.flex1} key={index.toString()}>\n                    {tabBar({\n                      routeName,\n                      selectedTab: focusedTab,\n                      navigate: (selectTab: string) => {\n                        if (selectTab !== focusedTab) {\n                          navigation.navigate({\n                            name: routeName,\n                            merge: true,\n                          });\n                        }\n                      },\n                    })}\n                  </View>\n                );\n              })}\n            </View>\n            {_renderButtonCenter(focusedTab, navigation.navigate)}\n            <View style={[styles.rowRight, { height: scale(height) }]}>\n              {itemRight.map((item: any, index) => {\n                const routeName = item?.props?.name;\n\n                if (tabBar === undefined) {\n                  return renderItem({\n                    routeName,\n                    color: focusedTab === routeName ? 'blue' : 'gray',\n                    navigate: navigation.navigate,\n                  });\n                }\n\n                return (\n                  <View style={styles.flex1} key={index.toString()}>\n                    {tabBar({\n                      routeName,\n                      selectedTab: focusedTab,\n                      navigate: (selectTab: string) => {\n                        if (selectTab !== focusedTab) {\n                          navigation.navigate({\n                            name: routeName,\n                            merge: true,\n                          });\n                        }\n                      },\n                    })}\n                  </View>\n                );\n              })}\n            </View>\n          </View>\n        </View>\n      );\n    };\n\n    return (\n      <Tab.Navigator {...props} tabBar={MyTabBar}>\n        {children?.map((e: any, index: number) => {\n          return <Tab.Screen key={index.toString()} {...e.props} />;\n        })}\n      </Tab.Navigator>\n    );\n  }\n);\n\nexport default BottomBarComponent;\n"],"mappings":"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"}