{"version":3,"names":["createBottomTabNavigator","React","useEffect","useImperativeHandle","useState","Dimensions","Text","View","TouchableOpacity","scale","Svg","Path","useDeviceOrientation","getPath","getPathUp","styles","width","maxW","get","Tab","BottomBarComponent","forwardRef","props","ref","SVG","PATH","type","style","height","circleWidth","bgColor","initialRouteName","tabBar","renderCircle","borderTopLeftRight","strokeWidth","strokeColor","itemLeft","setItemLeft","itemRight","setItemRight","maxWidth","setMaxWidth","isShow","setIsShow","children","orientation","setVisible","visible","w","_renderButtonCenter","focusedTab","navigate","getTab","filter","e","position","name","routeName","selectedTab","selectTab","arrLeft","item","arrRight","d","renderItem","color","itemTab","MyTabBar","state","navigation","routes","index","container","main","top30","rowLeft","map","undefined","flex1","toString","merge","rowRight"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable no-shadow */\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport React, { useEffect, useImperativeHandle, useState } from 'react';\nimport { Dimensions, Text, View, TouchableOpacity } from 'react-native';\nimport { scale } from 'react-native-size-scaling';\nimport Svg, { Path } from 'react-native-svg';\nimport { useDeviceOrientation } from '../../../useDeviceOrientation';\nimport type { NavigatorBottomBarProps } from './model';\nimport { getPath, getPathUp } from './path';\nimport { styles } from './styles';\nconst { width: maxW } = Dimensions.get('window');\n\nconst Tab = createBottomTabNavigator();\n\nconst BottomBarComponent = React.forwardRef<any, NavigatorBottomBarProps>(\n  (props, ref) => {\n    const SVG: any = Svg;\n    const PATH: any = Path;\n    const {\n      type = 'DOWN',\n      style,\n      width = null,\n      height = 65,\n      circleWidth = 50,\n      bgColor = 'gray',\n      initialRouteName,\n      tabBar,\n      renderCircle,\n      borderTopLeftRight = false,\n      strokeWidth = 0,\n      strokeColor = '#DDDDDD',\n    } = props;\n\n    const [itemLeft, setItemLeft] = useState<any[]>([]);\n    const [itemRight, setItemRight] = useState<any[]>([]);\n    const [maxWidth, setMaxWidth] = useState<number>(width || maxW);\n    const [isShow, setIsShow] = useState(true);\n    const children = props?.children as any[];\n    const orientation = useDeviceOrientation();\n\n    useImperativeHandle(ref, () => {\n      return { setVisible };\n    });\n\n    const setVisible = (visible: boolean) => {\n      setIsShow(visible);\n    };\n\n    useEffect(() => {\n      const { width: w } = Dimensions.get('window');\n      if (!width) {\n        setMaxWidth(w);\n      }\n    }, [orientation, width]);\n\n    const _renderButtonCenter = (focusedTab: string, navigate: any) => {\n      const getTab = children.filter(\n        (e: any) => e?.props?.position === 'CENTER'\n      )[0]?.props?.name;\n\n      return renderCircle({\n        routeName: getTab,\n        selectedTab: focusedTab,\n        navigate: (selectTab: string) => {\n          if (selectTab) {\n            navigate(selectTab);\n          }\n        },\n      });\n    };\n\n    useEffect(() => {\n      const arrLeft: any = children.filter(\n        (item) => item?.props?.position === 'LEFT'\n      );\n      const arrRight: any = children.filter(\n        (item) => item?.props?.position === 'RIGHT'\n      );\n\n      setItemLeft(arrLeft);\n      setItemRight(arrRight);\n    }, [children, initialRouteName]);\n\n    const d =\n      type === 'DOWN'\n        ? getPath(\n            maxWidth,\n            height,\n            circleWidth >= 50 ? circleWidth : 50,\n            borderTopLeftRight\n          )\n        : getPathUp(\n            maxWidth,\n            height + 30,\n            circleWidth >= 50 ? circleWidth : 50,\n            borderTopLeftRight\n          );\n\n    const renderItem = ({ color, routeName, navigate }: any) => {\n      return (\n        <TouchableOpacity\n          key={routeName}\n          style={styles.itemTab}\n          onPress={() => navigate(routeName)}\n        >\n          <Text style={{ color: color }}>{routeName}</Text>\n        </TouchableOpacity>\n      );\n    };\n\n    const MyTabBar = (props: any) => {\n      const { state, navigation } = props;\n      const focusedTab = state?.routes[state.index].name;\n\n      if (!isShow) {\n        return null;\n      }\n\n      return (\n        <View style={[styles.container, style]}>\n          <SVG\n            width={maxWidth}\n            height={scale(height) + (type === 'DOWN' ? 0 : scale(30))}\n          >\n            <PATH\n              fill={bgColor}\n              stroke={strokeColor}\n              strokeWidth={strokeWidth}\n              {...{ d }}\n            />\n          </SVG>\n          <View\n            style={[\n              styles.main,\n              { width: maxWidth },\n              type === 'UP' && styles.top30,\n            ]}\n          >\n            <View style={[styles.rowLeft, { height: scale(height) }]}>\n              {itemLeft.map((item: any, index) => {\n                const routeName: string = item?.props?.name;\n\n                if (tabBar === undefined) {\n                  return renderItem({\n                    routeName,\n                    color: focusedTab === routeName ? 'blue' : 'gray',\n                    navigate: navigation.navigate,\n                  });\n                }\n\n                return (\n                  <View style={styles.flex1} key={index.toString()}>\n                    {tabBar({\n                      routeName,\n                      selectedTab: focusedTab,\n                      navigate: (selectTab: string) => {\n                        if (selectTab !== focusedTab) {\n                          navigation.navigate({\n                            name: routeName,\n                            merge: true,\n                          });\n                        }\n                      },\n                    })}\n                  </View>\n                );\n              })}\n            </View>\n            {_renderButtonCenter(focusedTab, navigation.navigate)}\n            <View style={[styles.rowRight, { height: scale(height) }]}>\n              {itemRight.map((item: any, index) => {\n                const routeName = item?.props?.name;\n\n                if (tabBar === undefined) {\n                  return renderItem({\n                    routeName,\n                    color: focusedTab === routeName ? 'blue' : 'gray',\n                    navigate: navigation.navigate,\n                  });\n                }\n\n                return (\n                  <View style={styles.flex1} key={index.toString()}>\n                    {tabBar({\n                      routeName,\n                      selectedTab: focusedTab,\n                      navigate: (selectTab: string) => {\n                        if (selectTab !== focusedTab) {\n                          navigation.navigate({\n                            name: routeName,\n                            merge: true,\n                          });\n                        }\n                      },\n                    })}\n                  </View>\n                );\n              })}\n            </View>\n          </View>\n        </View>\n      );\n    };\n\n    return (\n      <Tab.Navigator {...props} tabBar={MyTabBar}>\n        {children?.map((e: any, index: number) => {\n          return <Tab.Screen key={index.toString()} {...e.props} />;\n        })}\n      </Tab.Navigator>\n    );\n  }\n);\n\nexport default BottomBarComponent;\n"],"mappings":"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"}